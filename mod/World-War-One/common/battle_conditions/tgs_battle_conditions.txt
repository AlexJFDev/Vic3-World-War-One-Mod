battle_condition_allied_air_superiority = {
	icon = "gfx/interface/icons/battle_conditions/allied_air_superiority.dds"

	modifier = {
		unit_army_offense_mult = 0.15
		unit_army_defense_mult = 0.2
	}

	possible = {
		exists = scope:character
		scope:character = { 
			has_role = general 
		}
		allied_air_dominance > ennemy_air_dominance
	}
 
    instant_switch = {
        opposite_battle_side = {
				has_battle_condition = battle_condition_enemy_air_superiority
			}
		NOR = { 
			has_battle_condition = battle_condition_pursuit
			has_battle_condition = battle_condition_panicked_retreat
		    has_battle_condition = battle_condition_controlled_retreat	
			opposite_battle_side = {
				OR = {
				has_battle_condition = battle_condition_panicked_retreat
			    has_battle_condition = battle_condition_controlled_retreat	
				}
			}
		}
	}
    
	weight = 30
}

battle_condition_enemy_air_superiority = {
	icon = "gfx/interface/icons/battle_conditions/ennemy_air_superiority.dds"

	modifier = {
		unit_morale_loss_mult = 0.2
	}

	possible = {
		exists = scope:character
		scope:character = { 
			has_role = general 
		}
		allied_air_dominance < ennemy_air_dominance
	}

	instant_switch = {
        opposite_battle_side = {
				has_battle_condition = battle_condition_allied_air_superiority
			}
		NOR = { 
			has_battle_condition = battle_condition_panicked_retreat
			has_battle_condition = battle_condition_controlled_retreat
			has_battle_condition = battle_condition_pursuit
			opposite_battle_side = {
				has_battle_condition = battle_condition_pursuit
			}
		}
	}

	weight = 30
}

battle_condition_gas_attack = {
	icon = "gfx/interface/icons/battle_conditions/gas_attack.dds"

	modifier = {
		unit_kill_rate_add = 0.15
		unit_provinces_captured_mult = -0.3
	}

	possible = {
		exists = scope:character
		scope:character = { 
			has_role = general 
		}
		has_mobilization_option = mobilization_option:mobilization_option_chemical_weapons
		NOT = {
		opposite_battle_side = {
			has_mobilization_option = mobilization_option:mobilization_option_gas_masks
		}
		}
	}
	
	weight = {
		value = 15
	}
}

battle_condition_naval_bombardment = {
	icon = "gfx/interface/icons/battle_conditions/naval_bombardment.dds"

	modifier = {
		unit_kill_rate_add = 0.1
	}

	possible = {
		exists = scope:character
		scope:character = { 
			has_role = general 
		}
		scope:is_naval_invasion = yes
		scope:is_advancing_side = yes
	}
	
	weight = {
		value = 15
	}
}